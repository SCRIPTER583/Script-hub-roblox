<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
<title>🔥 Roblox Lua Script Hub 🔥</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin:0;
    background:#1e1e2f;
    color:white;
    overflow-x:hidden;
  }
  header {
    background: rgba(0,0,0,0.7);
    padding: 15px;
    text-align: center;
    font-size: 20px;
  }
  .container {
    padding: 15px;
  }
  input, textarea {
    width: 100%;
    border-radius:8px;
    padding:10px;
    background:#2c2c3a;
    color:white;
    border:none;
    margin-bottom:10px;
    box-sizing:border-box;
  }
  textarea { height: 100px; resize:none; }
  button {
    width: 100%;
    padding:10px;
    border:none;
    border-radius:6px;
    cursor:pointer;
    background: rgb(0,123,255);
    color:white;
    font-size:16px;
    margin-bottom:10px;
  }
  .script-list {
    margin-top:20px;
    max-height: 400px;
    overflow-y:auto;
  }
  .script-item {
    background: rgba(0,0,0,0.3);
    padding:10px;
    margin-bottom:10px;
    border-radius:6px;
  }
  .script-item h4 { margin:0 0 5px 0; font-size:16px; }
  .copy-btn {
    margin-top:5px;
    width: 100%;
    background: rgb(40,167,69);
    color:white;
    border:none;
    padding:6px;
    border-radius:5px;
    cursor:pointer;
  }
</style>
</head>
<body>
<header>🔥 Roblox Lua Script Hub 🔥</header>
<div class="container">
  <h4>Upload your script</h4>
  <input type="text" id="scriptTitle" placeholder="Script Title">
  <textarea id="scriptInput" placeholder="Paste your Lua script here..."></textarea>
  <button id="uploadBtn">Upload Script</button>

  <h4>Available Scripts</h4>
  <div id="scriptList" class="script-list"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
import { getFirestore, collection, addDoc, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-firestore.js";

// 🔹 Your Firebase config
const firebaseConfig = {
  apiKey: "AIzaSyBSaYjTMcky_ZujbzYUKpdxNaLJr1QyuVs",
  authDomain: "script-hub-roblox.firebaseapp.com",
  projectId: "script-hub-roblox",
  storageBucket: "script-hub-roblox.appspot.com",
  messagingSenderId: "421126428585",
  appId: "1:421126428585:web:bf814c7e1557351a04d6b8",
  measurementId: "G-HQQ03V2QXF"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// Upload script
document.getElementById("uploadBtn").onclick = async () => {
  const title = document.getElementById("scriptTitle").value.trim();
  const content = document.getElementById("scriptInput").value.trim();
  if (!title || !content) return alert("⚠️ Enter title and script!");

  try {
    await addDoc(collection(db, "scripts"), {
      title,
      content,
      date: new Date().toISOString()
    });
    alert("✅ Script uploaded!");
    document.getElementById("scriptTitle").value = "";
    document.getElementById("scriptInput").value = "";
    loadScripts();
  } catch(err) {
    alert("❌ Error uploading script: " + err);
  }
};

// Load scripts
async function loadScripts() {
  const list = document.getElementById("scriptList");
  list.innerHTML = "";
  const q = query(collection(db, "scripts"), orderBy("date","desc"));
  const querySnapshot = await getDocs(q);

  querySnapshot.forEach(doc => {
    const data = doc.data();
    const div = document.createElement("div");
    div.className = "script-item";
    div.innerHTML = `
      <h4>${data.title}</h4>
      <pre>${data.content}</pre>
      <button class="copy-btn">Copy</button>
    `;
    div.querySelector(".copy-btn").onclick = () => {
      navigator.clipboard.writeText(data.content);
      alert("📋 Copied!");
    };
    list.appendChild(div);
  });
}

// Initial load
loadScripts();
</script>
</body>
</html>
